#!/bin/bash

# Preserve MANPATH if you already defined it somewhere in your config.
# Otherwise, fall back to `manpath` so we can inherit from `/etc/manpath`.
export MANPATH="${MANPATH-$(manpath)}:$NPM_PACKAGES/share/man"

# alias to command line utils
if [ -f ~/.cargo/env ]; then
    source ~/.cargo/env
else
    export PATH="$PATH:$HOME/.cargo/bin"
fi
while IFS= read -r line; do
    if [ 'x#' = x${line:0:1} ]; then continue; fi
    IFS='=' read -r -A cmdArr <<< "$line"
    # add one dummy in bash because zsh array is 1-index
    if [[ x$(basename $SHELL) = x'bash' ]]; then
        cmdArr="tmp $cmdArr"
    fi
    cmd=${cmdArr[1]}
    alt=${cmdArr[2]}
    issudo=""
    if [[ x"$alt" == xsudo* ]]; then
        alt="${alt:5}"
        issudo="sudo "
    fi
    if [ ${#cmdArr[@]} -gt 2 ]; then
        pkg=${cmdArr[3]}
    else
        pkg="$alt"
    fi
    eval "alias $cmd='$issudo$alt'"
done < "$HOME/dotfiles/static/list_rust_packages.txt"

# Python

# Haskel
if [ -f ~/.ghcup/env ]; then
    source ~/.ghcup/env
fi

# ruby
export PATH="$PATH:$HOME/.rbenv/bin"
eval "$(rbenv init -)"
