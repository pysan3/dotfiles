#!/usr/bin/zsh

function add_completions() {
  # cmd="$1"; cache_file="$2"
  if [ ! -f "$2" ]; then
    eval "$1" > "$2"
  fi
  source "$2"
}

# js
[ -s "$NVM_DIR"/nvm.sh ] && source "$NVM_DIR"/nvm.sh
export PATH="$PATH:$(npm config get prefix)/bin"
export MANPATH="${MANPATH-$(manpath)}:$NPM_PACKAGES/share/man"

# alias to command line utils
export PATH="$CARGO_HOME/bin:$PATH"
if [ -f "${CARGO_ALIAS_CACHE:=$XDG_CACHE_HOME/cargo/alias_local.zsh}" ]; then
  source "$CARGO_ALIAS_CACHE"
else
  echo '$CARGO_ALIAS_CACHE not found'
fi

# Python
export PATH="$PYENV_ROOT/bin:$PYENV_ROOT/shims:$POETRY_HOME/bin:$PATH"

# Haskel
export PATH="$PATH:$XDG_CACHE_HOME/cabal/bin"

# ruby
export PATH="$RBENV_ROOT/bin:$RBENV_ROOT/shims:$XDG_DATA_HOME/gem/bin:$PATH"

true
